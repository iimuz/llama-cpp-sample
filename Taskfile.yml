version: "3"

vars: {}
dotenv: [".env"]
env: {}

tasks:
  # 初期環境構築用タスク
  init:
    desc: Initialize project.
    deps:
      - clean
    cmds:
      - git submodule init
      - git submodule update
      - task: build
  clean:
    desc: Clean files.
    cmds:
      - cd llama.cpp && git clean -xdf .

  build:
    desc: Build llama.cpp.
    dir: llama.cpp
    cmds:
      - make -j4 LLAMA_CUDA=1
